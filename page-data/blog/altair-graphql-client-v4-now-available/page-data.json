{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/altair-graphql-client-v4-now-available/","result":{"data":{"site":{"siteMetadata":{"title":"XKoji.dev","siteUrl":"https://www.xkoji.dev"}},"markdownRemark":{"id":"dd3a71a7-c8e0-53ab-853f-68a6cbe52870","excerpt":"Altair v4 has been released! It is a mojor update that comes with several signifant changes as well as other small improvements and fixes in the application‚Ä¶","html":"<p>Altair v4 has been released! It is a mojor update that comes with several signifant changes as well as other small improvements and fixes in the application.</p>\n<p>Starting with the JS framework itself, we have migrated from angular v9 to angular v11 (the latest version at the time of this release) <a href=\"https://github.com/imolorhe/altair/pull/1461\" target=\"_blank\" rel=\"nofollow\">#1461</a>. This brings with it all the goodies from both <a href=\"https://blog.angular.io/version-10-of-angular-now-available-78960babd41\" target=\"_blank\" rel=\"nofollow\">version 10</a> and <a href=\"https://blog.angular.io/version-11-of-angular-now-available-74721b7952f7\" target=\"_blank\" rel=\"nofollow\">11</a>, which includes (among other things) a faster, more performant application overall. In the process we also updated <a href=\"https://ng.ant.design/\" target=\"_blank\" rel=\"nofollow\">ant design framework</a> to v11, <a href=\"https://ngrx.io/\" target=\"_blank\" rel=\"nofollow\">ngrx</a> to v11 and several other packages.</p>\n<p>As part of the performance improvements, we migrated from using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" target=\"_blank\" rel=\"nofollow\">localStorage</a> to store and manage data, and instead we store data in <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API\" target=\"_blank\" rel=\"nofollow\">indexedDB</a> <a href=\"https://github.com/imolorhe/altair/pull/1483\" target=\"_blank\" rel=\"nofollow\">#1483</a>. Given the synchronous nature of localStorage, it blocks the main thread whenever it stores data. We managed to improve this thread blocking issue by deferring writes using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\" target=\"_blank\" rel=\"nofollow\"><code class=\"language-text\">requestIdleCallback</code></a> API but that didn‚Äôt completely eliminate the blocking issue. It becomes even more obvious when dealing with very large schema setups. IndexedDB has an asynchronous API meaning it doesn‚Äôt block the thread when writing or reading from storage. This leads to a more fluid and consistent user experience‚Ä¶ and <strong>a much BIGGER storage</strong> (now you can use Altair to load up that 1GB schema üòÑ)!</p>\n<p>We introduced <a href=\"https://altair.sirmuel.design/docs/features/prerequest-scripts.html\" target=\"_blank\" rel=\"nofollow\">Post request scripts</a> <a href=\"https://github.com/imolorhe/altair/pull/1467\" target=\"_blank\" rel=\"nofollow\">#1467</a> which enables you perform logic on the result of your query. Assuming you want to run a mutation query to login your user and retrieve the auth token, using the post request script you can now retrieve the token from the response <code class=\"language-text\">altair.response.body.data.login.token</code> and set it in the currently active environment variable <code class=\"language-text\">altair.helpers.setEnvironment(&#39;auth_token&#39;, token, true)</code> and use the variable in the headers to authenticate subsequent requests! We also introduced response headers that come with the response from the server. This enables easier debugging with regards to the headers. <em>One important note about the response headers: the returned response headers in the browser clients (web app, browser extensions) are <a href=\"https://developers.google.com/web/updates/2015/03/introduction-to-fetch#response_types\" target=\"_blank\" rel=\"nofollow\">limited</a>. However these response headers show up in the desktop apps.</em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByElEQVQoz22T64rbMBCF/ShtoPFVsiTL91uym9LdhUILhb5FfxT6/Kdn5HXiQn8MCtbomzNnJlGhexS2R90+oxu+oO0/IysG5GqAdhOUmVDoEaVd4PwVqpyQ8U6ZBbpc4OcZP36/4eefr/j+6xWRAA2TffOEohzD47To8Olcob8+YVhvfDhDmzlA5cyKHinzkrzFOfY4fajwkXE61Ygy1cGx0nX8BldfUboFhRlwTjxstWIa39C0LzDuQuDKc1OZ5h2SrCG0oYCWwZO/o5xq5INSK5KUypIKcVqH0GzLVc8BZtz6DrwEoHJUmHnESX3PlwJRRlhlLxjbG6ybQhW5kAR5uCsr7eUOLDR9bVfoZkZuR2R2DErlTRRnNToOovE3GPqiSiqmNwIVvx6tPk4ZVF7R036B6em76wkTIQTKY+slaQ4hbW7mb/E/oAwvZU4q9x0nXnWh9dBykrX3xGPItyNwj61lAnUX2tzsaY4edsGfADr4JLEDj0V2YMwtSNLHQAKQ4EiVXOCKJositlH57UGuh7B//yjkpC2XOwDfFR0jDEUWW9ttSUWt8ytNbpGXDP5jworswWEYv7BYHzyTfBFUsLjMQoB/AfSZXtFofbtpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"altair with tabs\"\n        title=\"altair with tabs\"\n        src=\"/static/e07a58eb2c24abad469032dadc29bd01/c1b63/altair-v4.png\"\n        srcset=\"/static/e07a58eb2c24abad469032dadc29bd01/5a46d/altair-v4.png 300w,\n/static/e07a58eb2c24abad469032dadc29bd01/0a47e/altair-v4.png 600w,\n/static/e07a58eb2c24abad469032dadc29bd01/c1b63/altair-v4.png 1200w,\n/static/e07a58eb2c24abad469032dadc29bd01/d61c2/altair-v4.png 1800w,\n/static/e07a58eb2c24abad469032dadc29bd01/97a96/altair-v4.png 2400w,\n/static/e07a58eb2c24abad469032dadc29bd01/d9ed5/altair-v4.png 2880w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>With all the new feature additions, we added tabs to the query and result sections to better manage the components. This also enables us have better management of the sections than was possible before. Now you can view the results of a subscription query even after running a subscription.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACRElEQVQ4y62US28SURTH+VBGoBAbdNEaXdhFa0WrTfwYGm0R2/paGBduXNQuXJhIkS07A1hs60dAoBt5zot5Xmb+3nOH26YGaH2c5J9zucz9zf+cOTOR69cWsHw1icR8AvGZJGKxGa74qTw3N49U6gouRmOjvTGK8/PJFCI3FhZRyH3EzocdbG+/x+5uHvn8Z3zK5VAsFrH/rYrvh4c4ONhHdW8PXytlVMonKpdK4ppCoYB4YhaROyursB0Hju3Asi0wxsCGDB7zQGHbNlRVxWAw4DIxKTqdLi5EE4jcW70PXVdhmnTAgGHoQrquwbIstNtt1Go1fqADTdMwHA7h+77IJDJAUa83ODCJSPr2XQGQQJJcuy53zt3rOv1v8t+ucOp5ofsgCAScotk8Oh+QXCqKIkSld7tdcZOJwMWlW1OBNu8rlUugfr+PVqsl3FK5Y4FLN9MTgbbjQjMs9Hpd0UuCUiYouaU4Bh6dATQHfM/28FOx0WkTQBO9NAxDOJVlk9PQYXM6kPYYb75lGqJ/v4csVwIbjeZZJevhU+X9YkOfzyUfkdGoSBFQjs1UII2GyZ0Zlot3VYbXX1y8rXh4U/LQMoJjh3/8UBzuULEC9AY++qYvMvMlEKcfynmAVPK4CATtLxxKoCxP6gSKfwOOi7Fviqoq4mNAw6ppoWiP3gjGwg/AJMmb/qjXQ+ByegX/I2hWBTB56TIer61jbT0jsliPcibzBNmnG8hmN0Te3HqOLa7NkcL1M7x4+QoPHj5CdGYWvwCgXSlAqJTE2gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"proxy settings in Altair\"\n        title=\"proxy settings in Altair\"\n        src=\"/static/c7dc793447d51f4e0a49468814a802f5/c1b63/altair-proxy.png\"\n        srcset=\"/static/c7dc793447d51f4e0a49468814a802f5/5a46d/altair-proxy.png 300w,\n/static/c7dc793447d51f4e0a49468814a802f5/0a47e/altair-proxy.png 600w,\n/static/c7dc793447d51f4e0a49468814a802f5/c1b63/altair-proxy.png 1200w,\n/static/c7dc793447d51f4e0a49468814a802f5/6569d/altair-proxy.png 1328w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>On the desktop apps, you can now configure the proxy settings of Altair <a href=\"https://github.com/imolorhe/altair/pull/1475\" target=\"_blank\" rel=\"nofollow\">#1475</a>. This includes choosing to use the system proxy settings, using a manual proxy setting or via a PAC script, or not using any proxy at all.</p>\n<p>A new setting (<code class=\"language-text\">response.hideExtensions</code>) has been added to allow hiding the extensions data that gets returned from some servers.</p>\n<p>Other improvements include: using JetBrains mono as the default editor font, updating the variable highlighting and implementation in text inputs, several other bug fixes and minor improvements.</p>\n<p>This was originally planned to be a minor version release (v3.3.0) but given the number of complex changes being introduced, it made sense to bump it up to a major release instead. Hope you guys enjoy this update and find it very useful.</p>\n<p>If you experience any issue in this update or just want to holla, you can reach out to us on <a href=\"https://twitter.com/AltairGraphQL\" target=\"_blank\" rel=\"nofollow\">twitter</a> or on <a href=\"https://github.com/imolorhe/altair\" target=\"_blank\" rel=\"nofollow\">github</a>.</p>\n<p>Ps: We are always open to contributions in various ways. You can learn more <a href=\"https://altair.sirmuel.design/docs/contributing.html\" target=\"_blank\" rel=\"nofollow\">here</a>üöÄ or donate to the project <a href=\"https://opencollective.com/altair/donate\" target=\"_blank\" rel=\"nofollow\">here</a>ü•∞.</p>\n<p>‚úåüèæ</p>","tableOfContents":"","frontmatter":{"title":"Altair GraphQL Client v4 now available","date":"March 25, 2021","description":"","image":null}}},"pageContext":{"slug":"/blog/altair-graphql-client-v4-now-available/","previous":{"fields":{"slug":"/blog/theming-in-altair-graphql/"},"frontmatter":{"title":"Theming in Altair GraphQL","draft":null}},"next":null}}}